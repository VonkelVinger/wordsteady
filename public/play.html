<!-- play.html — PART 2/2 -->
        <div id="ws3WorkArea">
          <div>
            <p class="resultLabel" style="margin-top:10px;">Starters</p>
            <div class="choiceGrid" id="ws3Starters"></div>
          </div>

          <div>
            <p class="resultLabel" style="margin-top:12px;">Finishes</p>
            <div class="choiceGrid" id="ws3Finishes"></div>
          </div>

          <div class="resultBox" id="ws3ResultBox" style="display:none;">
            <p class="resultLabel">Your sentence</p>
            <p class="resultText" id="ws3ResultText"></p>
          </div>

          <p class="feedback ok" id="ws3Confirm" style="min-height:20px;margin-top:10px;"></p>
        </div>

        <div id="ws3DonePanel" class="ws3DonePanel">
          <p class="ws3DoneTitle">✅ Step 3 complete</p>
          <p class="ws3DoneSub">Nice work — come back tomorrow for a new word.</p>
        </div>
      </div>

      <div class="divider"></div>

      <p>If you recognise this word later today, the session worked.</p>

      <div class="row" style="margin-top:14px;">
        <a id="doneBtn" class="btn" href="./index.html" aria-disabled="true">DONE FOR TODAY</a>
        <a class="btn secondary" href="./how-it-works.html">Why this works</a>
      </div>
    </div>
  </div>

  <script>
    (function(){
      function ready(fn){
        if (document.readyState === "loading") document.addEventListener("DOMContentLoaded", fn);
        else fn();
      }

      ready(function(){
        var btn = document.getElementById("introToggleBtn");
        var section = document.getElementById("introSection");
        if (!btn || !section) return;

        var KEY = "ws_intro_seen_v1";

        function setOpen(next){
          btn.setAttribute("aria-expanded", String(next));
          section.hidden = !next;
          btn.textContent = next ? "Hide this" : "First time here?";
        }

        function safeGetSeen(){
          try { return localStorage.getItem(KEY) === "1"; } catch(e){ return false; }
        }
        function safeSetSeen(){
          try { localStorage.setItem(KEY, "1"); } catch(e){}
        }

        // Auto-open on first visit; remember once seen (and especially once closed).
        var seen = safeGetSeen();
        if (!seen){
          setOpen(true);
          safeSetSeen();
        } else {
          setOpen(false);
        }

        btn.addEventListener("click", function(){
          var isOpen = btn.getAttribute("aria-expanded") === "true";
          var next = !isOpen;
          setOpen(next);

          // Mark as seen so it won't auto-open again after the user interacts.
          safeSetSeen();
        });
      });
    })();
  </script>

  <script src="./scripts/play.js" defer></script>
</body>
</html>
